import{_ as h}from"./AppLayout.vue_vue_type_script_setup_true_lang-ClsnqJJt.js";import{d as x,x as w,c as k,w as r,a as e,b as m,e as y,j as a,f as o,u as i,l as d,o as c,F as C,g as j,s as S,t as p,h as V}from"./app-BrkohfQq.js";import{r as l}from"./routes-C8N3XD_S.js";import{u as A}from"./useSweetAlert-CjcY7Pj8.js";import"./BootstrapLayout-DdWhaGDh.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./sweetalert2.esm.all-NNS-RXd7.js";const B={class:"d-flex justify-content-between align-items-center mb-4"},N={class:"row g-4"},$={class:"card h-100"},z={class:"card-body"},E={class:"d-flex justify-content-between align-items-start mb-3"},F={class:"d-flex align-items-center"},M={class:"card-title mb-0"},D={class:"dropdown"},G={class:"dropdown-menu"},I=["onClick"],L={class:"text-muted small mb-3"},O={class:"d-flex justify-content-between align-items-center"},P={class:"badge bg-light text-dark"},T={key:0,class:"text-center py-5"},W=x({__name:"Index",props:{categories:{}},setup(b){w();const{success:f,error:g,confirm:_}=A(),v=async n=>{await _(`Êtes-vous sûr de vouloir supprimer la catégorie "${n.name}" ?`)&&V.delete(l("categories.destroy",{id:n.id}),{onSuccess:t=>{t.props?.flash?.success?f(t.props.flash.success):f(`Catégorie "${n.name}" supprimée avec succès !`)},onError:t=>{if(t&&typeof t=="object"){const u=Object.values(t)[0];u&&g(u)}else g("Erreur lors de la suppression de la catégorie.")}})};return(n,s)=>(c(),k(h,null,{default:r(()=>[e("div",B,[s[1]||(s[1]=e("div",null,[e("h1",{class:"h2 mb-1"},[e("i",{class:"bi bi-tags me-2"}),o(" Catégories ")]),e("p",{class:"text-muted mb-0"},"Gérez vos catégories de produits")],-1)),a(i(d),{href:i(l)("categories.create"),class:"btn btn-primary"},{default:r(()=>[...s[0]||(s[0]=[e("i",{class:"bi bi-plus-circle me-1"},null,-1),o(" Ajouter une catégorie ",-1)])]),_:1},8,["href"])]),e("div",N,[(c(!0),m(C,null,j(b.categories,t=>(c(),m("div",{key:t.id,class:"col-md-6 col-lg-4"},[e("div",$,[e("div",z,[e("div",E,[e("div",F,[e("div",{class:"rounded-circle me-2",style:S([{width:"16px",height:"16px"},{backgroundColor:t.color}])},null,4),e("h5",M,p(t.name),1)]),e("div",D,[s[4]||(s[4]=e("button",{class:"btn btn-sm btn-outline-secondary",type:"button","data-bs-toggle":"dropdown"},[e("i",{class:"bi bi-three-dots-vertical"})],-1)),e("ul",G,[e("li",null,[a(i(d),{href:i(l)("categories.edit",{id:t.id}),class:"dropdown-item"},{default:r(()=>[...s[2]||(s[2]=[e("i",{class:"bi bi-pencil me-2"},null,-1),o(" Modifier ",-1)])]),_:1},8,["href"])]),e("li",null,[e("button",{onClick:u=>v(t),class:"dropdown-item text-danger"},[...s[3]||(s[3]=[e("i",{class:"bi bi-trash me-2"},null,-1),o(" Supprimer ",-1)])],8,I)])])])]),e("p",L,p(t.description||"Aucune description"),1),e("div",O,[e("span",P,p(t.products_count||0)+" produit(s)",1),a(i(d),{href:i(l)("categories.show",{id:t.id}),class:"btn btn-sm btn-outline-primary"},{default:r(()=>[...s[5]||(s[5]=[e("i",{class:"bi bi-eye me-1"},null,-1),o(" Voir les produits ",-1)])]),_:1},8,["href"])])])])]))),128))]),b.categories.length===0?(c(),m("div",T,[s[7]||(s[7]=e("div",{class:"text-muted mb-3"},[e("i",{class:"bi bi-folder fs-1"})],-1)),s[8]||(s[8]=e("h5",{class:"text-dark mb-2"},"Aucune catégorie",-1)),s[9]||(s[9]=e("p",{class:"text-muted mb-4"},"Commencez par créer votre première catégorie.",-1)),a(i(d),{href:i(l)("categories.create"),class:"btn btn-primary"},{default:r(()=>[...s[6]||(s[6]=[e("i",{class:"bi bi-plus-circle me-1"},null,-1),o(" Créer une catégorie ",-1)])]),_:1},8,["href"])])):y("",!0)]),_:1}))}});export{W as default};
