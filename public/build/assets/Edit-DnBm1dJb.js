import{d as Z,i as J,y as M,r as I,c as X,w as V,a as t,t as f,j as P,u as o,l as j,f as k,m as b,b as p,e as m,n as g,v as y,o as u,F as Y,g as H,p as D,q as Q,h as ee}from"./app-CGJPUJEO.js";import{_ as te}from"./AppLayout.vue_vue_type_script_setup_true_lang-DOygplc7.js";import{r as S}from"./routes-C8N3XD_S.js";import{u as se}from"./useSweetAlert-CjcY7Pj8.js";import{u as ie}from"./BootstrapLayout-Bp9zEE-w.js";import{F as ae}from"./FilePondImageUpload-BAzK5JwV.js";import"./sweetalert2.esm.all-NNS-RXd7.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const oe={class:"d-flex justify-content-between align-items-center mb-4"},le={class:"text-muted mb-0"},re={class:"d-flex gap-2"},ne={class:"row justify-content-center"},de={class:"col-lg-10"},ue={class:"card mb-4"},ce={class:"card-body"},pe={class:"row g-3"},me={class:"col-md-6"},ve={key:0,class:"invalid-feedback"},fe={key:1,class:"invalid-feedback"},_e={class:"col-md-6"},be=["value"],ge={key:0,class:"invalid-feedback"},ke={key:1,class:"invalid-feedback"},ye={class:"col-md-6"},he={class:"input-group"},xe=["disabled"],qe={key:0,class:"spinner-border spinner-border-sm me-1"},Se={key:0,class:"text-danger small"},Ue={class:"col-md-6"},Ie={key:0,class:"invalid-feedback"},Le={class:"col-12"},Fe={key:0,class:"invalid-feedback"},Ne={class:"card mb-4"},we={class:"card-body"},Ve={class:"row g-3"},Pe={class:"col-md-4"},Ce={class:"input-group"},Ee={key:0,class:"invalid-feedback"},Me={key:1,class:"invalid-feedback"},je={class:"col-md-4"},De={class:"input-group"},$e={key:0,class:"invalid-feedback"},ze={class:"col-md-4"},Oe={key:0,class:"invalid-feedback"},Be={key:0,class:"col-md-6"},Te={key:0,class:"invalid-feedback"},Ae={key:1,class:"col-md-6"},Ke={key:0,class:"invalid-feedback"},Ge={key:2,class:"col-md-6"},We=["value"],Re={key:3,class:"col-md-6"},Ze=["value"],Je={class:"row g-3 mt-2"},Xe={class:"col-md-6"},Ye={key:0,class:"invalid-feedback"},He={class:"card mb-4"},Qe={class:"card-body"},et={class:"row g-3"},tt={class:"col-md-6"},st={key:0,class:"invalid-feedback"},it={key:0,class:"col-md-6"},at={class:"row g-2"},ot={class:"col-6"},lt={key:0,class:"invalid-feedback"},rt={class:"col-6"},nt={key:0,class:"invalid-feedback"},dt={class:"card mb-4"},ut={class:"card-body"},ct={class:"card mb-4"},pt={class:"card-body"},mt={class:"form-check form-switch"},vt={class:"d-flex gap-2"},ft=["disabled"],_t={key:0,class:"spinner-border spinner-border-sm me-2"},bt={key:1,class:"bi bi-check-circle me-1"},Lt=Z({__name:"Edit",props:{product:{},categories:{},images:{default:()=>[]},uploadUrl:{default:()=>S("products.upload-image")}},setup(x){const{isVendeur:L}=ie(),v=x,{success:$,error:F}=se(),s=J({name:v.product.name,description:v.product.description||"",sku:v.product.sku,barcode:v.product.barcode||"",price:v.product.price,cost_price:v.product.cost_price||0,stock_quantity:v.product.stock_quantity,min_stock_level:v.product.min_stock_level,unit:v.product.unit,location:v.product.location||"",is_active:v.product.is_active,category_id:v.product.category_id,expiration_date:v.product.expiration_date?new Date(v.product.expiration_date).toISOString().split("T")[0]:"",alert_threshold_value:v.product.alert_threshold_value||null,alert_threshold_unit:v.product.alert_threshold_unit||""}),l=M(()=>s.errors),C=M(()=>s.processing),_=I({}),U=I(!1),O=r=>({name:"Nom du produit",description:"Description",sku:"SKU",barcode:"Code-barres",price:"Prix",cost_price:"Prix de revient",stock_quantity:"Quantité en stock",min_stock_level:"Stock minimum",unit:"Unité",location:"Emplacement",category_id:"Catégorie",is_active:"Statut",expiration_date:"Date d'expiration",alert_threshold_value:"Valeur du seuil d'alerte",alert_threshold_unit:"Unité du seuil d'alerte",images:"Images",delete_images:"Images à supprimer"})[r]||r,B=()=>{const r={};return(!s.name||s.name.trim().length<2)&&(r.name="Le nom du produit est requis (minimum 2 caractères)"),s.name&&s.name.length>255&&(r.name="Le nom ne peut pas dépasser 255 caractères"),s.sku&&s.sku.length>6&&(r.sku="Le SKU ne peut pas dépasser 6 caractères"),s.sku&&!/^[A-Z]{2}[0-9]{4}$/.test(s.sku)&&(r.sku="Le SKU doit être au format CCNNNN (2 lettres majuscules + 4 chiffres)"),s.barcode&&s.barcode.length>255&&(r.barcode="Le code-barres ne peut pas dépasser 255 caractères"),s.barcode&&!/^[a-zA-Z0-9]+$/.test(s.barcode)&&(r.barcode="Le code-barres ne peut contenir que des caractères alphanumériques"),(!s.price||s.price<0)&&(r.price="Le prix est requis et doit être positif"),s.cost_price<0&&(r.cost_price="Le prix de revient ne peut pas être négatif"),(!s.stock_quantity||s.stock_quantity<0)&&(r.stock_quantity="La quantité en stock est requise et doit être positive"),(!s.min_stock_level||s.min_stock_level<0)&&(r.min_stock_level="Le niveau de stock minimum est requis et doit être positif"),(!s.unit||s.unit.length>50)&&(r.unit="L'unité est requise et ne peut pas dépasser 50 caractères"),s.category_id||(r.category_id="La catégorie est requise"),Object.keys(r).length===0?null:r},q=(r,e)=>{_.value[r]&&delete _.value[r];let i="";switch(r){case"name":!e||e.trim().length<2?i="Le nom du produit est requis (minimum 2 caractères)":e.length>255&&(i="Le nom ne peut pas dépasser 255 caractères");break;case"sku":e&&e.length>6?i="Le SKU ne peut pas dépasser 6 caractères":e&&!/^[A-Z]{2}[0-9]{4}$/.test(e)&&(i="Le SKU doit être au format CCNNNN (2 lettres majuscules + 4 chiffres)");break;case"barcode":e&&e.length>255?i="Le code-barres ne peut pas dépasser 255 caractères":e&&!/^[a-zA-Z0-9]+$/.test(e)&&(i="Le code-barres ne peut contenir que des caractères alphanumériques");break;case"price":(!e||e<0)&&(i="Le prix est requis et doit être positif");break;case"cost_price":e<0&&(i="Le prix de revient ne peut pas être négatif");break;case"stock_quantity":(!e||e<0)&&(i="La quantité en stock est requise et doit être positive");break;case"min_stock_level":(!e||e<0)&&(i="Le niveau de stock minimum est requis et doit être positif");break;case"unit":(!e||e.length>50)&&(i="L'unité est requise et ne peut pas dépasser 50 caractères");break;case"category_id":e||(i="La catégorie est requise");break}i&&(_.value[r]=i)},z=I(null),E=I([]),h=I([]),T=M(()=>v.images.map(r=>{let e=r.url;if(e.startsWith("http"))try{e=new URL(e).pathname}catch{}return e.startsWith("/")||(e="/"+e),{source:e,options:{type:"limbo",metadata:{mediaId:r.id,originalUrl:r.url}}}})),A=r=>{E.value=r.filter(a=>{const n=a.file instanceof File,c=a.source,d=c&&typeof c=="string"&&(c.startsWith("http")||c.startsWith("/"));return n&&!d}).map(a=>a.file);const e=v.images.map(a=>a.id);if(E.value.length>0&&e.length>0){h.value=e;return}if(r.length===0&&e.length>0){h.value=e;return}const N=r.filter(a=>!(a.file instanceof File&&!a.source||a.source&&typeof a.source=="string"&&a.source.trim().startsWith("<!DOCTYPE"))).map(a=>{let n=null;if(a.metadata&&(typeof a.metadata=="object"&&a.metadata.mediaId?n=a.metadata.mediaId:typeof a.metadata=="function"&&(n=a.metadata()?.mediaId)),!n&&a.getMetadata&&typeof a.getMetadata=="function")try{n=a.getMetadata()?.mediaId}catch{}if(!n&&a.serverId&&(n=a.serverId),!n){if(a.source&&typeof a.source=="string"&&!a.source.trim().startsWith("<!DOCTYPE")){const c=a.source.match(/\/storage\/(\d+)\//);if(c&&c[1]){const d=parseInt(c[1],10);!isNaN(d)&&e.includes(d)&&(n=d)}}if(!n&&a.filename&&typeof a.filename=="string"){const c=a.filename.match(/^(\d+)_/);if(c&&c[1]){const d=parseInt(c[1],10);!isNaN(d)&&e.includes(d)&&(n=d)}}if(!n&&a.file&&a.file instanceof File&&a.file.name){const c=a.file.name.match(/^(\d+)_/);if(c&&c[1]){const d=parseInt(c[1],10);!isNaN(d)&&e.includes(d)&&(n=d)}}!n&&a.__mediaId&&(n=a.__mediaId),!n&&a.id&&typeof a.id=="number"&&e.includes(a.id)&&(n=a.id)}if(n&&typeof n=="number"&&!isNaN(n)&&e.includes(n))return n;if(n&&typeof n=="string"&&/^\d+$/.test(n)){const c=parseInt(n,10);if(!isNaN(c)&&e.includes(c))return c}return null}).filter(a=>a!=null&&typeof a=="number"&&!isNaN(a)&&e.includes(a));N.length===0&&r.length>0&&e.length>0?h.value=[]:h.value=e.filter(a=>!N.includes(a))},K=async()=>{if(!(!s.name||!s.category_id)){U.value=!0;try{const r=await fetch(S("products.generate-sku"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify({name:s.name,category_id:s.category_id})});if(r.ok){const e=await r.json();s.sku=e.sku}}catch(r){console.error("Erreur lors de la génération du SKU:",r)}finally{U.value=!1}}},G=()=>{_.value={};const r=B();if(r){_.value=r;return}const e=new FormData;e.append("_method","PUT"),e.append("name",s.name||""),e.append("description",s.description||""),e.append("sku",s.sku||""),e.append("barcode",s.barcode||""),e.append("price",String(s.price||0)),s.cost_price!==null&&s.cost_price!==void 0&&e.append("cost_price",String(s.cost_price)),e.append("stock_quantity",String(s.stock_quantity||0)),e.append("min_stock_level",String(s.min_stock_level||0)),e.append("unit",s.unit||""),s.location&&e.append("location",s.location),e.append("category_id",String(s.category_id||"")),e.append("is_active",s.is_active?"1":"0"),s.expiration_date&&s.expiration_date.trim()!==""?e.append("expiration_date",s.expiration_date):e.append("expiration_date",""),s.alert_threshold_value!==null&&s.alert_threshold_value!==void 0&&e.append("alert_threshold_value",String(s.alert_threshold_value)),s.alert_threshold_unit&&e.append("alert_threshold_unit",s.alert_threshold_unit);const N=(z.value?.getFiles()||[]).length>0,a=E.value.filter(d=>d instanceof File),n=a.length>0,c=v.images&&v.images.length>0;if(a.forEach(d=>{d instanceof File&&e.append("images[]",d)}),!n&&c?h.value=[]:h.value.length>0&&(!n&&!N&&c||n||(h.value=[]),h.value.length>0&&(!n&&c?h.value=[]:h.value.forEach(d=>{e.append("delete_images[]",String(d))}))),!s.name||!s.sku||!s.price||!s.stock_quantity||!s.min_stock_level||!s.unit||!s.category_id){F("Veuillez remplir tous les champs requis.");return}try{ee.post(S("products.update",{id:v.product.id}),e,{forceFormData:!0,preserveScroll:!0,onSuccess:d=>{const w=d.props?.flash;w?.success?$(w.success):$("Produit modifié avec succès !"),_.value={}},onError:d=>{if(d&&typeof d=="object"&&Object.keys(d).length>0){const w=Object.entries(d).map(([W,R])=>`<strong>${O(W)}:</strong> ${R}`).join("<br>");F(w)}else F("Erreur lors de la modification du produit.")}})}catch{F("Une erreur inattendue s'est produite lors de la modification du produit.")}};return(r,e)=>(u(),X(te,null,{default:V(()=>[t("div",oe,[t("div",null,[e[21]||(e[21]=t("h1",{class:"h2 mb-1"},"Modifier le produit",-1)),t("p",le,f(x.product.name),1)]),t("div",re,[P(o(j),{href:o(S)("products.show",{id:x.product.id}),class:"btn btn-outline-primary"},{default:V(()=>[...e[22]||(e[22]=[t("i",{class:"bi bi-eye me-1"},null,-1),k(" Voir le produit ",-1)])]),_:1},8,["href"]),P(o(j),{href:o(S)("products.index"),class:"btn btn-outline-secondary"},{default:V(()=>[...e[23]||(e[23]=[t("i",{class:"bi bi-arrow-left me-1"},null,-1),k(" Retour à la liste ",-1)])]),_:1},8,["href"])])]),t("form",null,[t("div",ne,[t("div",de,[t("div",ue,[e[30]||(e[30]=t("div",{class:"card-header"},[t("h5",{class:"card-title mb-0"},"Informations générales")],-1)),t("div",ce,[t("div",pe,[t("div",me,[e[24]||(e[24]=t("label",{class:"form-label"},[k(" Nom du produit "),t("span",{class:"text-danger"},"*")],-1)),b(t("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>o(s).name=i),type:"text",required:"",class:g(["form-control",{"is-invalid":l.value.name||_.value.name}]),onBlur:e[1]||(e[1]=i=>q("name",o(s).name)),onInput:e[2]||(e[2]=i=>q("name",o(s).name))},null,34),[[y,o(s).name]]),l.value.name?(u(),p("div",ve,f(l.value.name),1)):m("",!0),_.value.name?(u(),p("div",fe,f(_.value.name),1)):m("",!0)]),t("div",_e,[e[26]||(e[26]=t("label",{class:"form-label"},[k(" Catégorie "),t("span",{class:"text-danger"},"*")],-1)),b(t("select",{"onUpdate:modelValue":e[3]||(e[3]=i=>o(s).category_id=i),required:"",class:g(["form-select",{"is-invalid":l.value.category_id||_.value.category_id}]),onBlur:e[4]||(e[4]=i=>q("category_id",o(s).category_id)),onChange:e[5]||(e[5]=i=>q("category_id",o(s).category_id))},[e[25]||(e[25]=t("option",{value:""},"Sélectionner une catégorie",-1)),(u(!0),p(Y,null,H(x.categories,i=>(u(),p("option",{key:i.id,value:i.id},f(i.name),9,be))),128))],34),[[D,o(s).category_id]]),l.value.category_id?(u(),p("div",ge,f(l.value.category_id),1)):m("",!0),_.value.category_id?(u(),p("div",ke,f(_.value.category_id),1)):m("",!0)]),t("div",ye,[e[27]||(e[27]=t("label",{class:"form-label"},[k(" SKU "),t("span",{class:"text-danger"},"*")],-1)),t("div",he,[b(t("input",{"onUpdate:modelValue":e[6]||(e[6]=i=>o(s).sku=i),type:"text",required:"",class:g(["form-control font-monospace",{"is-invalid":l.value.sku}])},null,2),[[y,o(s).sku]]),t("button",{type:"button",onClick:K,disabled:!o(s).name||!o(s).category_id||U.value,class:"btn btn-outline-primary"},[U.value?(u(),p("span",qe)):m("",!0),k(" "+f(U.value?"Génération...":"Générer"),1)],8,xe)]),l.value.sku?(u(),p("div",Se,f(l.value.sku),1)):m("",!0)]),t("div",Ue,[e[28]||(e[28]=t("label",{class:"form-label"},"Code-barres",-1)),b(t("input",{"onUpdate:modelValue":e[7]||(e[7]=i=>o(s).barcode=i),type:"text",class:g(["form-control font-monospace",{"is-invalid":l.value.barcode}])},null,2),[[y,o(s).barcode]]),l.value.barcode?(u(),p("div",Ie,f(l.value.barcode),1)):m("",!0)]),t("div",Le,[e[29]||(e[29]=t("label",{class:"form-label"},"Description",-1)),b(t("textarea",{"onUpdate:modelValue":e[8]||(e[8]=i=>o(s).description=i),rows:"3",class:g(["form-control",{"is-invalid":l.value.description}])},null,2),[[y,o(s).description]]),l.value.description?(u(),p("div",Fe,f(l.value.description),1)):m("",!0)])])])]),t("div",Ne,[e[45]||(e[45]=t("div",{class:"card-header"},[t("h5",{class:"card-title mb-0"},"Prix et stock")],-1)),t("div",we,[t("div",Ve,[t("div",Pe,[e[32]||(e[32]=t("label",{class:"form-label"},[k(" Prix de vente "),t("span",{class:"text-danger"},"*")],-1)),t("div",Ce,[b(t("input",{"onUpdate:modelValue":e[9]||(e[9]=i=>o(s).price=i),type:"number",step:"0.01",min:"0",required:"",class:g(["form-control",{"is-invalid":l.value.price||_.value.price}]),onBlur:e[10]||(e[10]=i=>q("price",o(s).price)),onInput:e[11]||(e[11]=i=>q("price",o(s).price))},null,34),[[y,o(s).price]]),e[31]||(e[31]=t("span",{class:"input-group-text"},"Fcfa",-1))]),l.value.price?(u(),p("div",Ee,f(l.value.price),1)):m("",!0),_.value.price?(u(),p("div",Me,f(_.value.price),1)):m("",!0)]),t("div",je,[e[34]||(e[34]=t("label",{class:"form-label"},"Prix de revient",-1)),t("div",De,[b(t("input",{"onUpdate:modelValue":e[12]||(e[12]=i=>o(s).cost_price=i),type:"number",step:"0.01",min:"0",class:g(["form-control",{"is-invalid":l.value.cost_price}])},null,2),[[y,o(s).cost_price]]),e[33]||(e[33]=t("span",{class:"input-group-text"},"Fcfa",-1))]),l.value.cost_price?(u(),p("div",$e,f(l.value.cost_price),1)):m("",!0)]),t("div",ze,[e[36]||(e[36]=t("label",{class:"form-label"},"Unité",-1)),b(t("select",{"onUpdate:modelValue":e[13]||(e[13]=i=>o(s).unit=i),class:g(["form-select",{"is-invalid":l.value.unit}])},[...e[35]||(e[35]=[t("option",{value:"pièce"},"Pièce",-1),t("option",{value:"kg"},"Kilogramme",-1),t("option",{value:"g"},"Gramme",-1),t("option",{value:"L"},"Litre",-1),t("option",{value:"mL"},"Millilitre",-1),t("option",{value:"m"},"Mètre",-1),t("option",{value:"cm"},"Centimètre",-1),t("option",{value:"m²"},"Mètre carré",-1),t("option",{value:"m³"},"Mètre cube",-1),t("option",{value:"boîte"},"Boîte",-1),t("option",{value:"paquet"},"Paquet",-1),t("option",{value:"lot"},"Lot",-1)])],2),[[D,o(s).unit]]),l.value.unit?(u(),p("div",Oe,f(l.value.unit),1)):m("",!0)]),o(L)?m("",!0):(u(),p("div",Be,[e[37]||(e[37]=t("label",{class:"form-label"},[k(" Stock actuel "),t("span",{class:"text-danger"},"*")],-1)),b(t("input",{"onUpdate:modelValue":e[14]||(e[14]=i=>o(s).stock_quantity=i),type:"number",min:"0",required:"",class:g(["form-control",{"is-invalid":l.value.stock_quantity}])},null,2),[[y,o(s).stock_quantity]]),l.value.stock_quantity?(u(),p("div",Te,f(l.value.stock_quantity),1)):m("",!0)])),o(L)?m("",!0):(u(),p("div",Ae,[e[38]||(e[38]=t("label",{class:"form-label"},[k(" Stock minimum "),t("span",{class:"text-danger"},"*")],-1)),b(t("input",{"onUpdate:modelValue":e[15]||(e[15]=i=>o(s).min_stock_level=i),type:"number",min:"0",required:"",class:g(["form-control",{"is-invalid":l.value.min_stock_level}])},null,2),[[y,o(s).min_stock_level]]),l.value.min_stock_level?(u(),p("div",Ke,f(l.value.min_stock_level),1)):m("",!0)])),o(L)?(u(),p("div",Ge,[e[39]||(e[39]=t("label",{class:"form-label"},"Stock actuel",-1)),t("input",{value:x.product.stock_quantity,type:"number",disabled:"",class:"form-control bg-light"},null,8,We),e[40]||(e[40]=t("small",{class:"form-text text-muted"},"Vous ne pouvez pas modifier le stock",-1))])):m("",!0),o(L)?(u(),p("div",Re,[e[41]||(e[41]=t("label",{class:"form-label"},"Stock minimum",-1)),t("input",{value:x.product.min_stock_level,type:"number",disabled:"",class:"form-control bg-light"},null,8,Ze),e[42]||(e[42]=t("small",{class:"form-text text-muted"},"Vous ne pouvez pas modifier le stock minimum",-1))])):m("",!0)]),t("div",Je,[t("div",Xe,[e[43]||(e[43]=t("label",{class:"form-label"},"Emplacement (optionnel)",-1)),b(t("input",{"onUpdate:modelValue":e[16]||(e[16]=i=>o(s).location=i),type:"text",class:g(["form-control",{"is-invalid":l.value.location}]),placeholder:"Ex: Rayon A, Étagère 3, etc."},null,2),[[y,o(s).location]]),l.value.location?(u(),p("div",Ye,f(l.value.location),1)):m("",!0),e[44]||(e[44]=t("small",{class:"form-text text-muted"},"Emplacement du produit dans le magasin",-1))])])])]),t("div",He,[e[51]||(e[51]=t("div",{class:"card-header"},[t("h5",{class:"card-title mb-0"},"Date d'expiration et alerte")],-1)),t("div",Qe,[t("div",et,[t("div",tt,[e[46]||(e[46]=t("label",{class:"form-label"},"Date d'expiration (optionnel)",-1)),b(t("input",{"onUpdate:modelValue":e[17]||(e[17]=i=>o(s).expiration_date=i),type:"date",class:g(["form-control",{"is-invalid":l.value.expiration_date}])},null,2),[[y,o(s).expiration_date]]),l.value.expiration_date?(u(),p("div",st,f(l.value.expiration_date),1)):m("",!0),e[47]||(e[47]=t("small",{class:"form-text text-muted"},"Date à laquelle le produit expire",-1))]),o(s).expiration_date?(u(),p("div",it,[e[49]||(e[49]=t("label",{class:"form-label"},"Seuil d'alerte",-1)),t("div",at,[t("div",ot,[b(t("input",{"onUpdate:modelValue":e[18]||(e[18]=i=>o(s).alert_threshold_value=i),type:"number",min:"1",class:g(["form-control",{"is-invalid":l.value.alert_threshold_value}]),placeholder:"Nombre"},null,2),[[y,o(s).alert_threshold_value,void 0,{number:!0}]]),l.value.alert_threshold_value?(u(),p("div",lt,f(l.value.alert_threshold_value),1)):m("",!0)]),t("div",rt,[b(t("select",{"onUpdate:modelValue":e[19]||(e[19]=i=>o(s).alert_threshold_unit=i),class:g(["form-select",{"is-invalid":l.value.alert_threshold_unit}])},[...e[48]||(e[48]=[t("option",{value:""},"Unité",-1),t("option",{value:"days"},"Jours",-1),t("option",{value:"weeks"},"Semaines",-1),t("option",{value:"months"},"Mois",-1)])],2),[[D,o(s).alert_threshold_unit]]),l.value.alert_threshold_unit?(u(),p("div",nt,f(l.value.alert_threshold_unit),1)):m("",!0)])]),e[50]||(e[50]=t("small",{class:"form-text text-muted"},"Alerter X jours/semaines/mois avant l'expiration",-1))])):m("",!0)])])]),t("div",dt,[e[53]||(e[53]=t("div",{class:"card-header"},[t("h5",{class:"card-title mb-0"},"Image du produit")],-1)),t("div",ut,[P(ae,{ref_key:"filePondRef",ref:z,name:"images","accepted-file-types":["image/jpeg","image/png","image/jpg","image/gif","image/webp"],"max-file-size":"5MB","max-files":1,"allow-multiple":!1,"image-resize-target-width":1200,"image-resize-target-height":1200,"image-resize-mode":"contain","image-resize-upscale":!1,"label-idle":"Glissez-déposez une image ou <span class='filepond--label-action'>Parcourir</span>",credits:!1,files:T.value,"onUpdate:files":A},null,8,["files"]),e[52]||(e[52]=t("small",{class:"form-text text-muted mt-2 d-block"}," Formats acceptés: JPG, PNG, GIF, WEBP. Taille max: 5 Mo. ",-1))])]),t("div",ct,[e[56]||(e[56]=t("div",{class:"card-header"},[t("h5",{class:"card-title mb-0"},"Statut")],-1)),t("div",pt,[t("div",mt,[b(t("input",{"onUpdate:modelValue":e[20]||(e[20]=i=>o(s).is_active=i),class:"form-check-input",type:"checkbox",id:"is_active"},null,512),[[Q,o(s).is_active]]),e[54]||(e[54]=t("label",{class:"form-check-label",for:"is_active"}," Produit actif ",-1)),e[55]||(e[55]=t("div",{class:"form-text"}," Un produit inactif ne sera pas visible dans les ventes ",-1))])])]),t("div",vt,[t("button",{type:"button",onClick:G,class:"btn btn-primary",disabled:C.value},[C.value?(u(),p("span",_t)):(u(),p("i",bt)),k(" "+f(C.value?"Modification...":"Modifier le produit"),1)],8,ft),P(o(j),{href:o(S)("products.index"),class:"btn btn-outline-secondary"},{default:V(()=>[...e[57]||(e[57]=[k(" Annuler ",-1)])]),_:1},8,["href"])])])])])]),_:1}))}});export{Lt as default};
