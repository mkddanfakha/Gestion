import{d as g,y as x,r as p,c as C,w as f,j as c,u as r,M as y,O as k,P as w,a as e,m as T,t as l,n as V,v as z,b as _,f as v,o as d}from"./app-DarICuOq.js";import{_ as B}from"./InputError.vue_vue_type_script_setup_true_lang-C5ZG_Oes.js";import{_ as E}from"./AuthLayout.vue_vue_type_script_setup_true_lang-BxUR2K_E.js";import{s as M}from"./index-DnLC8ybD.js";import"./index-DCXxZH4Q.js";import"./index-CMWG4mbA.js";const N={class:"row g-3"},$={class:"col-12"},D={for:"code",class:"form-label"},P=["placeholder"],R={class:"col-12"},j=["disabled"],A={key:0,class:"spinner-border spinner-border-sm me-2"},F={key:1,class:"bi bi-shield-check me-1"},I={class:"col-12 text-center"},O=["onClick"],L=g({__name:"TwoFactorChallenge",setup(S){const s=x(()=>t.value?{title:"Code de récupération",description:"Veuillez confirmer l'accès à votre compte en entrant l'un de vos codes de récupération d'urgence.",toggleText:"se connecter avec un code d'authentification"}:{title:"Code d'authentification",description:"Entrez le code d'authentification fourni par votre application d'authentification.",toggleText:"se connecter avec un code de récupération"}),t=p(!1),h=u=>{t.value=!t.value,u(),o.value=""},o=p("");return(u,a)=>(d(),C(E,{title:s.value.title,description:s.value.description},{default:f(()=>[c(r(y),{title:"Authentification à deux facteurs"}),c(r(k),w(r(M).form(),{transform:n=>({...n,code:o.value}),"reset-on-success":""}),{default:f(({errors:n,processing:i,clearErrors:b})=>[e("div",N,[e("div",$,[e("label",D,l(t.value?"Code de récupération":"Code d'authentification"),1),T(e("input",{id:"code",type:"text","onUpdate:modelValue":a[0]||(a[0]=m=>o.value=m),class:V(["form-control text-center font-monospace",{"is-invalid":n.code}]),placeholder:t.value?"Entrez le code de récupération":"Entrez le code à 6 chiffres",maxlength:"6",autocomplete:"one-time-code",autofocus:""},null,10,P),[[z,o.value]]),c(B,{message:n.code},null,8,["message"])]),e("div",R,[e("button",{type:"submit",class:"btn btn-primary w-100",disabled:i||o.value.length===0},[i?(d(),_("span",A)):(d(),_("i",F)),v(" "+l(i?"Vérification...":"Confirmer"),1)],8,j)]),e("div",I,[e("button",{type:"button",onClick:m=>h(b),class:"btn btn-link text-decoration-none"},[a[1]||(a[1]=e("i",{class:"bi bi-arrow-repeat me-1"},null,-1)),v(" "+l(s.value.toggleText),1)],8,O)])])]),_:1},16,["transform"])]),_:1},8,["title","description"]))}});export{L as default};
