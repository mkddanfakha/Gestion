import{_ as w}from"./AppLayout.vue_vue_type_script_setup_true_lang-DVp6PXdS.js";import{d as C,c as S,w as r,a as t,s as b,t as i,j as u,u as o,l as g,f as c,b as a,o as n,F as j,g as N,e as A,n as x,h as F}from"./app-C-EDQi3A.js";import{r as m}from"./routes-C8N3XD_S.js";import{u as q}from"./useSweetAlert-CjcY7Pj8.js";import"./BootstrapLayout-DqI2cyng.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./sweetalert2.esm.all-NNS-RXd7.js";const B={class:"min-vh-100 bg-light"},P={class:"bg-white shadow-sm"},V={class:"container-fluid"},E={class:"d-flex justify-content-between align-items-center py-4"},I={class:"d-flex align-items-center"},$={class:"h2 mb-0 text-dark"},z={class:"text-muted mb-0 mt-1"},D={class:"d-flex gap-2"},M={class:"container-fluid py-4"},R={class:"row g-4"},K={class:"col-lg-4"},L={class:"card h-100"},O={class:"card-body"},T={class:"row"},U={class:"col-sm-8"},G={class:"col-sm-8"},H={class:"col-sm-8 d-flex align-items-center"},J={class:"text-dark"},W={class:"col-sm-8"},X={class:"mt-4 pt-3 border-top"},Y={class:"d-flex gap-2"},Z={class:"col-lg-8"},Q={class:"card"},tt={key:0,class:"table-responsive"},st={class:"table table-hover mb-0"},et={class:"align-middle"},it={class:"d-flex align-items-center"},lt={class:"flex-shrink-0 me-3"},ot={key:0,class:"bg-light rounded overflow-hidden d-flex align-items-center justify-content-center",style:{width:"60px",height:"60px"}},nt=["src","alt"],at={key:1,class:"bg-light rounded d-flex align-items-center justify-content-center",style:{width:"60px",height:"60px"}},dt={class:"fw-medium"},ct={class:"text-muted small"},rt={class:"align-middle"},mt={class:"text-dark"},ut={class:"align-middle"},gt={class:"align-middle"},ft={class:"d-flex align-items-center"},ht={class:"text-muted ms-1"},_t={key:0,class:"badge bg-warning text-dark ms-2"},bt={class:"align-middle"},xt={class:"me-1"},vt={key:1,class:"text-center py-5"},Nt=C({__name:"Show",props:{category:{}},setup(l){const f=l,{success:h,error:_,confirm:v}=q(),y=d=>new Intl.NumberFormat("fr-FR").format(d)+" Fcfa",p=(d,s)=>d===0?"text-danger":d<=s?"text-warning":"text-success",k=async()=>{await v(`Êtes-vous sûr de vouloir supprimer la catégorie "${f.category.name}" ?`)&&F.delete(m("categories.destroy",{id:f.category.id}),{onSuccess:s=>{s.props?.flash?.success?h(s.props.flash.success):h(`Catégorie "${f.category.name}" supprimée avec succès !`)},onError:s=>{if(s&&typeof s=="object"){const e=Object.values(s)[0];e&&_(e)}else _("Erreur lors de la suppression de la catégorie.")}})};return(d,s)=>(n(),S(w,null,{default:r(()=>[t("div",B,[t("div",P,[t("div",V,[t("div",E,[t("div",null,[t("div",I,[t("div",{class:"rounded-circle me-3",style:b([{width:"24px",height:"24px"},{backgroundColor:l.category.color}])},null,4),t("h1",$,i(l.category.name),1)]),t("p",z,i(l.category.products_count||0)+" produit(s)",1)]),t("div",D,[u(o(g),{href:o(m)("categories.index"),class:"btn btn-outline-secondary"},{default:r(()=>[...s[0]||(s[0]=[c(" Retour à la liste ",-1)])]),_:1},8,["href"])])])])]),t("div",M,[t("div",R,[t("div",K,[t("div",L,[t("div",O,[s[7]||(s[7]=t("h5",{class:"card-title"},"Informations",-1)),t("dl",T,[s[1]||(s[1]=t("dt",{class:"col-sm-4 text-muted"},"Nom",-1)),t("dd",U,i(l.category.name),1),s[2]||(s[2]=t("dt",{class:"col-sm-4 text-muted"},"Description",-1)),t("dd",G,i(l.category.description||"Aucune description"),1),s[3]||(s[3]=t("dt",{class:"col-sm-4 text-muted"},"Couleur",-1)),t("dd",H,[t("div",{class:"rounded-circle me-2",style:b([{width:"16px",height:"16px"},{backgroundColor:l.category.color}])},null,4),t("code",J,i(l.category.color),1)]),s[4]||(s[4]=t("dt",{class:"col-sm-4 text-muted"},"Nombre de produits",-1)),t("dd",W,i(l.category.products_count||0),1)]),t("div",X,[t("div",Y,[u(o(g),{href:o(m)("categories.edit",{id:l.category.id}),class:"btn btn-primary flex-fill"},{default:r(()=>[...s[5]||(s[5]=[t("i",{class:"bi bi-pencil me-1"},null,-1),c(" Modifier ",-1)])]),_:1},8,["href"]),t("button",{onClick:k,class:"btn btn-danger flex-fill"},[...s[6]||(s[6]=[t("i",{class:"bi bi-trash me-1"},null,-1),c(" Supprimer ",-1)])])])])])])]),t("div",Z,[t("div",Q,[s[14]||(s[14]=t("div",{class:"card-header"},[t("h5",{class:"card-title mb-0"},"Produits de cette catégorie")],-1)),l.category.products&&l.category.products.length>0?(n(),a("div",tt,[t("table",st,[s[9]||(s[9]=t("thead",{class:"table-light"},[t("tr",null,[t("th",null,"Produit"),t("th",null,"SKU"),t("th",null,"Prix"),t("th",null,[t("div",{class:"d-flex align-items-center"},[t("span",null,"Stock"),t("small",{class:"text-muted ms-1"},"(quantité)")])]),t("th",null,[t("div",{class:"d-flex align-items-center"},[t("span",null,"Statut"),t("small",{class:"text-muted ms-1"},"(actif/inactif)")])])])],-1)),t("tbody",null,[(n(!0),a(j,null,N(l.category.products,e=>(n(),a("tr",{key:e.id},[t("td",et,[t("div",it,[t("div",lt,[e.image_url?(n(),a("div",ot,[t("img",{src:e.image_url,alt:e.name,class:"img-fluid",style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,nt)])):(n(),a("div",at,[...s[8]||(s[8]=[t("i",{class:"bi bi-box text-muted"},null,-1)])]))]),t("div",null,[t("div",dt,[u(o(g),{href:o(m)("products.show",{id:e.id}),class:"text-decoration-none"},{default:r(()=>[c(i(e.name),1)]),_:2},1032,["href"])]),t("div",ct,i(e.description||"Aucune description"),1)])])]),t("td",rt,[t("code",mt,i(e.sku),1)]),t("td",ut,i(y(e.price)),1),t("td",gt,[t("div",ft,[t("span",{class:x(["fw-medium",p(e.stock_quantity,e.min_stock_level)])},i(e.stock_quantity),3),t("span",ht,i(e.unit),1),e.stock_quantity<=e.min_stock_level?(n(),a("span",_t," ⚠️ Stock faible ")):A("",!0)])]),t("td",bt,[t("span",{class:x(["badge",e.is_active?"bg-success":"bg-danger"])},[t("span",xt,i(e.is_active?"✓":"✗"),1),c(" "+i(e.is_active?"Actif":"Inactif"),1)],2)])]))),128))])])])):(n(),a("div",vt,[s[11]||(s[11]=t("div",{class:"text-muted mb-3"},[t("i",{class:"bi bi-box fs-1"})],-1)),s[12]||(s[12]=t("h5",{class:"text-dark mb-2"},"Aucun produit",-1)),s[13]||(s[13]=t("p",{class:"text-muted mb-4"},"Cette catégorie ne contient aucun produit pour le moment.",-1)),u(o(g),{href:o(m)("products.create"),class:"btn btn-primary"},{default:r(()=>[...s[10]||(s[10]=[c(" Créer un produit ",-1)])]),_:1},8,["href"])]))])])])])])]),_:1}))}});export{Nt as default};
